import"./transitions-C0tB6dqK.js";let w=class{#e;#t;#s;#r;constructor(e,t){this.#s=e,this.#r=t,this.#e=document.getElementById("ballCanvas"),this.#t=this.#e.getContext("2d")}getBody(){return this.#e}getContext(){return this.#t}build(){this.#t.lineWidth=.5,this.#t.fillStyle="#212529",this.#t.strokeStyle="#212529",this.#t.fillRect(0,0,this.#s,this.#r)}};class P extends w{#e;#t;#s;#r;#i;#l;#d;#o;#h;#a;#n;#c;#g;constructor(){super(),this.#e=this.getBody(),this.#t=this.getContext(),this.#s=this.#e.width/2,this.#r=this.#e.height/2,this.#i=10,this.#l=5,this.#g=!1,this.#a=0,this.#n=0}draw(){this.#t.beginPath(),this.#t.arc(this.#s,this.#r,this.#i,0,2*Math.PI),this.#t.fillStyle="#fb8260",this.#t.fill(),this.#t.stroke()}IsMoving(){return this.#g}AddForce(e){switch(e){case"left":this.#a-=2;break;case"right":this.#a+=2;break;case"up":this.#n-=2;break;default:this.#n+=2;break}}CalculatePos(){this.#s+=this.#a,this.#r+=this.#n,this.#n+=.098,this.#r>=this.#e.height-this.#i&&(this.#r=this.#e.height-this.#i,this.#n=-(this.#n-.3)),this.#r<=0+this.#i&&(this.#r=0+this.#i,this.#n=-(this.#n-.3)),this.#s<=0+this.#i&&(this.#s=0+this.#i,this.#a=-(this.#a-this.#a*.1)),this.#s>=this.#e.width-this.#i&&(this.#s=this.#e.width-this.#i,this.#a=-(this.#a-this.#a*.1)),this.#a>0?this.#a-=.001:this.#a+=.001,this.#n>0?this.#n-=.001:this.#a+=.001,this.draw()}move(e){switch(console.log(e),e){case"left":if(this.#s<=0+this.#i)return!1;this.#s-=this.#l,console.log(this.#s);break;case"right":if(this.#s>=this.#e.width-this.#i)return!1;this.#s+=this.#l;break;case"up":if(this.#r<=0+this.#i)return!1;this.#r-=this.#l;break;default:if(this.#r>=this.#e.height-this.#i)return!1;this.#r+=this.#l;break}return this.draw(),!0}}let m=!1,T=1/60,k=0,C=performance.now();function R(d,e,t){let s=(t-C)/1e3;for(C=t,s>.5&&(s=.5),k+=s;k>=T;)S(d,e),k-=T;requestAnimationFrame(i=>R(d,e,i))}function L(d,e){const t=new w(d,e);t.build();const s=new P;s.draw(),p(t,s,"left"),p(t,s,"right"),p(t,s,"up"),p(t,s,"down")}const p=function(d,e,t){document.querySelectorAll("."+t).forEach(i=>{i.addEventListener("click",function(){e.AddForce(t),m||(m=!0,requestAnimationFrame(a=>R(d,e,a)))})})};function S(d,e){d.build(),e.CalculatePos()}class E{#e;#t;#s;constructor(e,t){this.#e=e,this.#t=t;let s=`${this.#t}${this.#e[0]}.png`;this.#s=`/public/resources/Poker/${s}`}toString(){return`${this.#t} of ${this.#e}`}getSuit(){return this.#e}getRank(){return this.#t}getImage(){return this.#s}biggerSuitThan(e){switch(e.getSuit()){case"Spades":return this.#e==="Spades"?this.biggerRankThan(e):!1;case"Diamonds":return this.#e==="Clubs"?!1:this.#e==="Diamonds"?this.biggerRankThan(e):!0;case"Hearts":return this.#e==="Spades"?!0:this.#e==="Hearts"?this.biggerRankThan(e):!1;case"Clubs":return this.#e==="Clubs"?this.biggerRankThan(e):!0}}biggerRankThan(e){let t=e.getRank();switch(t){case"A":t=14;break;case"J":t=11;break;case"Q":t=12;break;case"K":t=13;break;default:t=Number(e.getRank());break}return this.#r()>t}#r(){switch(this.#t){case"A":return 14;case"J":return 11;case"Q":return 12;case"K":return 13;default:return Number(this.#t)}}}class I{#e=[];#t=!1;popCard(){const e=Math.floor(Math.random()*this.#e.length),t=this.#e[e];return this.#e.splice(e,1),t}getBigger(){let e=this.#s(),t=e[0];for(let s=1;s<this.#e.length;++s)t<e[s]&&(t=e[s]);return t}setBack(){this.#t=!0}getBack(){return this.#t}#s(){let e,t=[];for(let s=0;s<this.#e.length;++s){switch(this.#e[s].getRank()){case"A":e=14;break;case"J":e=11;break;case"Q":e=12;break;case"K":e=13;break;default:e=Number(this.#e[s].getRank());break}t.push(e)}return t}addCard(e){this.#r(e)||this.#e.push(e)}getCard(e){return this.#e[e]}getLength(){return this.#e.length}#r(e){for(let t=0;t<this.#e.length;++t)if(this.#e[t].getSuit()===e.getSuit()&&this.#e[t].getRank()===e.getRank())return!0;return!1}moveCards(e,t){let s,i;for(let a=0;a<t;a++)s=this.popCard(),i=e.popCard(),e.addCard(s),this.addCard(i);return e}}class c{#e;#t;#s=0;#r;#i;constructor(e){this.#e=e}#l(){for(let e=0;e<this.#e.getLength();++e)for(let t=0;t<this.#e.getLength();++t)if(t!==e&&this.#e.getCard(e).getRank()===this.#e.getCard(t).getRank())return this.#i=this.#e.getCard(e).getRank(),!0;return!1}getType(){return this.#t}getValue(){return this.#s}getSuit(){return this.#r}getCard(){return this.#i}#d(){let e=1,t=1,s,i;for(let a=0;a<this.#e.getLength();++a)for(let g=0;g<this.#e.getLength();++g)if(this.#e.getCard(a).getRank()!==this.#e.getCard(g).getRank()){for(let l=0;l<this.#e.getLength();++l)a!==l&&this.#e.getCard(a).getRank()===this.#e.getCard(l).getRank()&&(e+=1,s=this.#e.getCard(a).getRank()),g!==l&&this.#e.getCard(g).getRank()===this.#e.getCard(l).getRank()&&(i=this.#e.getCard(g).getRank(),t+=1);if(e>1&&t>1)return this.convert(s)<this.convert(i)?this.#i=i:this.#i=s,!0;e=1,t=1}return!1}#o(){let e=1,t;for(let s=0;s<this.#e.getLength();++s){for(let i=0;i<this.#e.getLength();++i)i!==s&&this.#e.getCard(s).getRank()===this.#e.getCard(i).getRank()&&(e+=1,t=this.#e.getCard(s).getRank());if(e>2)return this.#i=t,!0;e=1}return!1}#h(){let e=this.#f();if(e.sort(function(s,i){return s-i}),15-e.length<e[0])return!1;e[0]===1&&e[e.length-1]===13&&(e[0]=9);let t=e[0];for(let s=1;s<e.length;++s)if(t+1===e[s])t=e[s];else return!1;return this.#i=this.#e.getBigger,!0}#a(){let e=this.#e.getCard(0).getSuit();for(let t=1;t<this.#e.getLength();++t)if(this.#e.getCard(t).getSuit()!==e)return!1;return this.#r=e,!0}#n(){let e,t=this.#e.getCard(0).getRank();for(let g=1;g<this.#e.getLength();++g)t!==this.#e.getCard(g).getRank()&&(e=g);let s=this.#e.getCard(e).getRank(),i=0,a=0;for(let g=0;g<this.#e.getLength();++g)t===this.#e.getCard(g).getRank()&&i++,s===this.#e.getCard(g).getRank()&&a++;return i+a===5&&(i===2||a===2)?(this.convert(t)<this.convert(s)?this.#i=s:this.#i=t,!0):!1}convert(e){let t;switch(e){case"A":t=1;break;case"J":t=11;break;case"Q":t=12;break;case"K":t=13;break;default:t=Number(e);break}return t}#c(){let e=1,t;for(let s=0;s<this.#e.getLength();++s){for(let i=0;i<this.#e.getLength();++i)i!==s&&this.#e.getCard(s).getRank()===this.#e.getCard(i).getRank()&&(t=this.#e.getCard(s).getRank(),e+=1);if(e>3)return this.#i=t,!0;e=1}return!1}#g(){return this.#h()?this.#a():!1}#f(){let e,t=[];for(let s=0;s<this.#e.getLength();++s){switch(this.#e.getCard(s).getRank()){case"A":e=1;break;case"J":e=11;break;case"Q":e=12;break;case"K":e=13;break;default:e=Number(this.#e.getCard(s).getRank());break}t.push(e)}return t}classify(){this.#i=this.#e.getBigger(),this.#t="Mayor carta",this.#l()&&(this.#t="Pair",this.#s=1),this.#d()&&(this.#t="Two Pair",this.#s=2),this.#o()&&(this.#t="Three of a kind",this.#s=3),this.#h()&&(this.#t="Straight",this.#s=4),this.#a()&&(this.#t="Flush",this.#s=5),this.#n()&&(this.#t="Full house",this.#s=6),this.#c()&&(this.#t="Four of a kind",this.#s=7),this.#g()&&(this.#t="Straight flush",this.#s=8),console.log(this.#t)}win(e){return this.#s!==e.getValue()?this.#s>e.getValue():this.#s<4||this.#s===6||this.#s===7?this.#i>e.getCard():this.#u(this.#r)>this.#u(e.getSuit)}#u(e){switch(e){case"Spades":return 4;case"Diamonds":return 2;case"Hearts":return 3;case"Clubs":return 1}}}class v{#e=document.getElementById("dealOne");#t=document.getElementById("dealTwo");#s=document.getElementById("firstcanvas");#r=document.getElementById("secondcanvas");#i;#l;#d=document.getElementById("play");#o;#h;#a;#n;#c=document.getElementById("step");#g=document.getElementById("stepthree");#f=document.getElementById("stepfive");#u;constructor(e,t,s,i){this.#o=e,this.#u=t,this.#i=s,this.#l=i;let a=2,g=5,l,r,u;this.#h=this.#u.dealHands(a,g),this.#o.updateBack(this.#i,this.#h[0]),this.#o.updateBack(this.#l,this.#h[1]);let h=this.#h,o=new c(this.#h[0]),n=new c(this.#h[1]);o.classify(),n.classify(),console.log(o.getType()),console.log(n.getType()),o.win(n)?(o.getType()===void 0?r="mayor carta":r=`${o.getType()}`,l="1!! Por "+r,u=n.getType()):(n.getType()===void 0?r="mayor carta":r=`${n.getType()}`,l="2!! Por "+r,u=o.getType()),e.updateWinner(l,u),e.playOne(o.getType()),e.playTwo(n.getType()),this.#e.addEventListener("click",function(){t.moveCards(h[0],5)===!1&&e.advise(),h[0].getBack()?e.update(s,h[0]):e.updateBack(s,h[0]),o=new c(h[0]),o.classify(),o.win(n)?(o.getType()===void 0?r="mayor carta":r=`${o.getType()}`,l="1!! Por "+r,u=n.getType()):(n.getType()===void 0?r="mayor carta":r=`${n.getType()}`,l="2!! Por "+r,u=o.getType()),e.updateWinner(l,u),e.playOne(o.getType()),e.playTwo(n.getType())}),this.#t.addEventListener("click",function(){t.moveCards(h[1],5)===!1&&e.advise(),h[1].getBack()?e.update(i,h[1]):e.updateBack(i,h[1]),n=new c(h[1]),n.classify(),o.win(n)?(n.getType()===void 0?r="mayor carta":r=`${o.getType()}`,l="1!! Por "+r,u=n.getType()):(n.getType()===void 0?r="mayor carta":r=`${n.getType()}`,l="2!! Por "+r,u=o.getType()),e.updateWinner(l,u),e.playOne(o.getType()),e.playTwo(n.getType())}),this.#s.addEventListener("click",function(){t.moveCards(h[0],5)===!0?e.advise():(h[0].setBack(),h[0].getBack()?e.update(s,h[0]):e.updateBack(s,h[0]),o=new c(h[0]),o.classify(),o.win(n)?(o.getType()===void 0?r="mayor carta":r=`${o.getType()}`,l="1!! Por "+r,u=n.getType()):(n.getType()===void 0?r="mayor carta":r=`${n.getType()}`,l="2!! Por "+r,u=o.getType()),e.updateWinner(l,u),e.playOne(o.getType()),e.playTwo(n.getType()))}),this.#r.addEventListener("click",function(){t.moveCards(h[1],5)===!0?e.advise():(h[1].setBack(),h[1].getBack()?e.update(i,h[1]):e.updateBack(i,h[1]),n=new c(h[1]),n.classify(),o.win(n)?(n.getType()===void 0?r="mayor carta":r=`${o.getType()}`,l="1!! Por "+r):(n.getType()===void 0?r="mayor carta":r=`${n.getType()}`,l="2!! Por "+r,u=o.getType()),e.updateWinner(l,u),e.playOne(o.getType()),e.playTwo(n.getType()))}),this.#d.addEventListener("click",function(){t.moveCards(h[1],5)===!0?e.advise():(h[1].setBack(),h[1].getBack()?e.update(i,h[1]):e.updateBack(i,h[1]),n=new c(h[1]),n.classify(),o.win(n)?(n.getType()===void 0?r="mayor carta":r=`${o.getType()}`,l="1!! Por "+r):(n.getType()===void 0?r="mayor carta":r=`${n.getType()}`,l="2!! Por "+r,u=o.getType()),e.updateWinner(l,u),e.playOne(o.getType()),e.playTwo(n.getType())),t.moveCards(h[0],5)===!0?e.advise():(h[0].setBack(),h[0].getBack()?e.update(s,h[0]):e.updateBack(s,h[0]),o=new c(h[0]),o.classify(),o.win(n)?(o.getType()===void 0?r="mayor carta":r=`${o.getType()}`,l="1!! Por "+r,u=n.getType()):(n.getType()===void 0?r="mayor carta":r=`${n.getType()}`,l="2!! Por "+r,u=o.getType()),e.updateWinner(l,u),e.playOne(o.getType()),e.playTwo(n.getType()))}),this.#c.addEventListener("click",function(){e.update(s,h[0])}),this.#g.addEventListener("click",function(){e.stepThree(i,h[1])}),this.#f.addEventListener("click",function(){e.update(i,h[1])})}EventOne(){let e=this.#u,t=this.#h,s=this.#s,i=this.#o,a,g;this.#e.addEventListener("click",function(){e.moveCards(t[0],5),t[0].getBack()?i.update(s,t[0]):i.updateBack(s,t[0]),firstPoker=new c(t[0]),firstPoker.classify(),firstPoker.win(secondPoker)?(firstPoker.getType()===void 0?a="mayor carta":a=`${firstPoker.getType()}`,g="1!! Por "+a):(secondPoker.getType()===void 0?a="mayor carta":a=`${secondPoker.getType()}`,g="2!! Por "+a),i.updateWinner(g,loser)})}}class b{#e;#t;#s;#r;constructor(e,t,s){this.#e=document.getElementById(s),this.#t=this.#e.getContext("2d"),this.#e.width=e-75,this.#e.height=t-75,this.#s=e,this.#r=t}getBody(){return this.#e}getWidth(){return this.#e.width}getHeight(){return this.#e.height}getCtx(){return this.#t}build(){this.#t.lineWidth=.5,this.#t.fillStyle="white",this.#t.strokeStyle="#999",this.#t.fillRect(0,0,this.#s,this.#r)}update(){this.#t.clearRect(0,0,this.#e.width,this.#e.height),this.build()}resize(e,t){this.#e.width=e,this.#e.height=t}}class ${#e=[];constructor(){let e;const t=["Clubs","Hearts","Diamonds","Spades"],s=["A","2","3","4","5","6","7","8","9","10","J","Q","K"];for(let i=0;i<t.length;++i)for(let a=0;a<s.length;++a)e=new E(t[i],s[a]),this.#e.push(e)}popCard(){const e=Math.floor(Math.random()*this.#e.length),t=this.#e[e];return this.#e.splice(e,1),t}addCard(e){this.#t(e)||this.#e.push(e)}#t(e){for(let t=0;t<this.#e.length;++t)if(this.#e[t].getSuit()===e.getSuit()&&this.#e[t].getRank()===e.getRank())return!0;return!1}shuffle(){let e=this.#e;const t=this.#e.length;let s=[],i,a;for(let g=0;g<t;++g)i=Math.floor(Math.random()*e.length),a=e[i],e.splice(i,1),s.push(a);this.#e=s}sort(){const e=["Clubs","Hearts","Diamonds","Spades"],t=["A","2","3","4","5","6","7","8","9","10","J","Q","K"];let s,i=[],a=[],g=[];for(let l=0;l<e.length;l++){for(let r=0;r<this.#e.length;r++)this.#e[r].getSuit()===e[l]&&i.push(this.#e[r]);s=i.length;for(let r=0;r<t.length;r++)for(let u=0;u<s;u++)i[u].getRank()===t[r]&&a.push(i[u]);l===0?g=a:g=g.concat(a),a=[],i=[]}this.#e=g}moveCards(e,t){let s;if(this.#e.length<5)return console.log(this.#e.length),!0;for(let i=0;i<t;i++)s=this.popCard(),e.addCard(s),e.popCard();return e}dealHands(e,t){let s=[],i,a;for(let g=0;g<e;++g){i=new I;for(let l=0;l<t;++l)a=this.popCard(),i.addCard(a);s.push(i)}return s}}class H{#e;constructor(e){this.#e=e}update(e,t){let s,i;const a=e.getWidth(),g=e.getHeight();let l=0,r=0,u=[];for(let h=0;h<t.getLength();++h)s=t.getCard(h),i=new Image,u.push(i),u[h].onload=()=>{e.getCtx().drawImage(u[h],l,r,a/5,g),l+=a/5},u[h].src=s.getImage()}updateWinner(e,t){document.getElementById("winner").innerHTML="El ganador es el jugador "+e+" vs "+t}updateBack(e,t){let s;const i=e.getWidth(),a=e.getHeight();let g=0,l=0,r=[];for(let u=0;u<t.getLength();++u)t.getCard(u),s=new Image,r.push(s),r[u].onload=()=>{e.getCtx().drawImage(r[u],g,l,i/5,a),g+=i/5},r[u].src="/public/resources/Poker/blue_back.png"}advise(){document.getElementById("cards").innerHTML="No quedan cartas en el mazo"}playOne(e){document.getElementById("firstPlay").innerHTML=e}playTwo(e){document.getElementById("secondPlay").innerHTML=e}stepThree(e,t){let s=Math.floor(Math.random()*5),i=1,a=[s];do s=Math.floor(Math.random()*5),a.includes(s)||(a.push(s),i++);while(i<3);a.sort(),console.log(a);let g,l;const r=e.getWidth(),u=e.getHeight();let h=0,o=0,n=[];i=0,console.log(a);for(let f=0;f<t.getLength();++f)g=t.getCard(f),l=new Image,n.push(l),n[f].onload=()=>{e.getCtx().drawImage(n[f],h,o,r/5,u),h+=r/5},f===a[i]?(n[f].src=g.getImage(),i++):n[f].src="/public/resources/Poker/blue_back.png"}}function M(){let d=new b(window.innerWidth-150,window.innerHeight/2-150,"firstcanvas"),e=new b(window.innerWidth-100,window.innerHeight/2-125,"secondcanvas"),t=new H(document),s=new $;new v(t,s,d,e)}var y=new Swiper(".swiper",{effect:"cube",allowTouchMove:!1,grabCursor:!1,cubeEffect:{shadow:!0,slideShadows:!0,shadowOffset:20,shadowScale:.94},mousewheel:!0});y.on("slideChange",()=>{x(y.activeIndex)});function x(d){for(let e of document.querySelectorAll(".Links li"))e.classList.remove("activeLink");Array.from(document.querySelectorAll(".Links li"))[d].classList.add("activeLink"),B(d)}function A(d){for(let e of document.querySelectorAll(".Links li"))e.classList.remove("activeLink");Array.from(document.querySelectorAll(".Links li"))[d].classList.add("activeLink"),y.slideTo(d,1e3,!0),B(d)}function B(d){switch(d){case 1:L(600,600);break;case 2:M();break}}window.Navigate=A;
