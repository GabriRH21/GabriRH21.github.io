import"./transitions-C0tB6dqK.js";let L=class{#t;#s;#h;#i;constructor(t,e){this.#h=t,this.#i=e,this.#t=document.getElementById("ballCanvas"),this.#s=this.#t.getContext("2d")}getBody(){return this.#t}getContext(){return this.#s}build(){this.#s.lineWidth=.5,this.#s.fillStyle="#212529",this.#s.strokeStyle="#212529",this.#s.fillRect(0,0,this.#h,this.#i)}};class P extends L{#t;#s;#h;#i;#n;#a;#p;#b;#y;#l;#d;#e;#f;constructor(){super(),this.#t=this.getBody(),this.#s=this.getContext(),this.#h=this.#t.width/2,this.#i=this.#t.height/2,this.#n=10,this.#a=5,this.#f=!1,this.#l=0,this.#d=0}draw(){this.#s.beginPath(),this.#s.arc(this.#h,this.#i,this.#n,0,2*Math.PI),this.#s.fillStyle="#fb8260",this.#s.fill(),this.#s.stroke()}IsMoving(){return this.#f}AddForce(t){switch(t){case"left":this.#l-=2;break;case"right":this.#l+=2;break;case"up":this.#d-=2;break;default:this.#d+=2;break}}CalculatePos(){this.#h+=this.#l,this.#i+=this.#d,this.#d+=.098,this.#i>=this.#t.height-this.#n&&(this.#i=this.#t.height-this.#n,this.#d=-(this.#d-.3)),this.#i<=0+this.#n&&(this.#i=0+this.#n,this.#d=-(this.#d-.3)),this.#h<=0+this.#n&&(this.#h=0+this.#n,this.#l=-(this.#l-this.#l*.1)),this.#h>=this.#t.width-this.#n&&(this.#h=this.#t.width-this.#n,this.#l=-(this.#l-this.#l*.1)),this.#l>0?this.#l-=.001:this.#l+=.001,this.#d>0?this.#d-=.001:this.#l+=.001,this.draw()}move(t){switch(console.log(t),t){case"left":if(this.#h<=0+this.#n)return!1;this.#h-=this.#a,console.log(this.#h);break;case"right":if(this.#h>=this.#t.width-this.#n)return!1;this.#h+=this.#a;break;case"up":if(this.#i<=0+this.#n)return!1;this.#i-=this.#a;break;default:if(this.#i>=this.#t.height-this.#n)return!1;this.#i+=this.#a;break}return this.draw(),!0}}let b=!1,y=1/60,m=0,w=performance.now();function B(n,t,e){let s=(e-w)/1e3;for(w=e,s>.5&&(s=.5),m+=s;m>=y;)E(n,t),m-=y;requestAnimationFrame(i=>B(n,t,i))}function S(n,t){const e=new L(n,t);e.build();const s=new P;s.draw(),c(e,s,"left"),c(e,s,"right"),c(e,s,"up"),c(e,s,"down")}const c=function(n,t,e){document.querySelectorAll("."+e).forEach(i=>{i.addEventListener("click",function(){t.AddForce(e),b||(b=!0,requestAnimationFrame(h=>B(n,t,h)))})})};function E(n,t){n.build(),t.CalculatePos()}class T{#t;#s;#h;constructor(t,e){this.#t=t,this.#s=e;let s=`${this.#s}${this.#t[0]}.png`;this.#h=`/resources/Poker/${s}`}toString(){return`${this.#s} of ${this.#t}`}getSuit(){return this.#t}getRank(){return this.#s}getImage(){return this.#h}biggerSuitThan(t){switch(t.getSuit()){case"Spades":return this.#t==="Spades"?this.biggerRankThan(t):!1;case"Diamonds":return this.#t==="Clubs"?!1:this.#t==="Diamonds"?this.biggerRankThan(t):!0;case"Hearts":return this.#t==="Spades"?!0:this.#t==="Hearts"?this.biggerRankThan(t):!1;case"Clubs":return this.#t==="Clubs"?this.biggerRankThan(t):!0}}biggerRankThan(t){let e=t.getRank();switch(e){case"A":e=14;break;case"J":e=11;break;case"Q":e=12;break;case"K":e=13;break;default:e=Number(t.getRank());break}return this.#i()>e}#i(){switch(this.#s){case"A":return 14;case"J":return 11;case"Q":return 12;case"K":return 13;default:return Number(this.#s)}}}class C{#t=[];#s=!1;popCard(){const t=Math.floor(Math.random()*this.#t.length),e=this.#t[t];return this.#t.splice(t,1),e}getBigger(){let t=this.#h(),e=t[0];for(let s=1;s<this.#t.length;++s)e<t[s]&&(e=t[s]);return e}setBack(){this.#s=!0}concat(t){this.#t=this.#t.concat(t.getHand())}copy(t){this.#t=[];for(let e=0;e<t.getLength();e++)this.addCard(t.getCard(e))}getBack(){return this.#s}#h(){let t,e=[];for(let s=0;s<this.#t.length;++s){switch(this.#t[s].getRank()){case"A":t=14;break;case"J":t=11;break;case"Q":t=12;break;case"K":t=13;break;default:t=Number(this.#t[s].getRank());break}e.push(t)}return e}addCard(t){this.#i(t)||this.#t.push(t)}getCard(t){return this.#t[t]}getHand(){return this.#t}getLength(){return this.#t.length}#i(t){for(let e=0;e<this.#t.length;++e)if(this.#t[e].getSuit()===t.getSuit()&&this.#t[e].getRank()===t.getRank())return!0;return!1}moveCards(t,e){let s,i;for(let h=0;h<e;h++)s=this.popCard(),i=t.popCard(),t.addCard(s),this.addCard(i);return t}}class v{#t=[];constructor(){let t;const e=["Clubs","Hearts","Diamonds","Spades"],s=["A","2","3","4","5","6","7","8","9","10","J","Q","K"];for(let i=0;i<e.length;++i)for(let h=0;h<s.length;++h)t=new T(e[i],s[h]),this.#t.push(t)}popCard(){const t=Math.floor(Math.random()*this.#t.length),e=this.#t[t];return this.#t.splice(t,1),e}addCard(t){this.#s(t)||this.#t.push(t)}takeCard(t){this.#t.length<1||t.addCard(this.popCard())}#s(t){for(let e=0;e<this.#t.length;++e)if(this.#t[e].getSuit()===t.getSuit()&&this.#t[e].getRank()===t.getRank())return!0;return!1}shuffle(){let t=this.#t;const e=this.#t.length;let s=[],i,h;for(let r=0;r<e;++r)i=Math.floor(Math.random()*t.length),h=t[i],t.splice(i,1),s.push(h);this.#t=s}sort(){const t=["Clubs","Hearts","Diamonds","Spades"],e=["A","2","3","4","5","6","7","8","9","10","J","Q","K"];let s,i=[],h=[],r=[];for(let a=0;a<t.length;a++){for(let l=0;l<this.#t.length;l++)this.#t[l].getSuit()===t[a]&&i.push(this.#t[l]);s=i.length;for(let l=0;l<e.length;l++)for(let o=0;o<s;o++)i[o].getRank()===e[l]&&h.push(i[o]);a===0?r=h:r=r.concat(h),h=[],i=[]}this.#t=r}moveCards(t,e){let s;if(this.#t.length<5)return console.log(this.#t.length),!0;for(let i=0;i<e;i++)s=this.popCard(),t.addCard(s),t.popCard();return t}dealHands(t,e){let s=[],i,h;for(let r=0;r<t;++r){i=new C;for(let a=0;a<e;++a)h=this.popCard(),i.addCard(h);s.push(i)}return s}}class f{#t;#s;#h;#i=0;#n;#a;constructor(t){this.#t=new C,this.#s=new C,this.#t.copy(t),this.#s.copy(t)}#p(){for(let t=0;t<this.#t.getLength();++t)for(let e=0;e<this.#t.getLength();++e)if(e!==t&&this.#t.getCard(t).getRank()===this.#t.getCard(e).getRank())return this.#a=this.#t.getCard(t).getRank(),!0;return!1}getType(){return this.#h}getValue(){return this.#i}getSuit(){return this.#n}getCard(){return this.#a}#b(){let t=1,e=1,s,i;for(let h=0;h<this.#t.getLength();++h)for(let r=0;r<this.#t.getLength();++r)if(this.#t.getCard(h).getRank()!==this.#t.getCard(r).getRank()){for(let a=0;a<this.#t.getLength();++a)h!==a&&this.#t.getCard(h).getRank()===this.#t.getCard(a).getRank()&&(t+=1,s=this.#t.getCard(h).getRank()),r!==a&&this.#t.getCard(r).getRank()===this.#t.getCard(a).getRank()&&(i=this.#t.getCard(r).getRank(),e+=1);if(t>1&&e>1)return this.convert(s)<this.convert(i)?this.#a=i:this.#a=s,!0;t=1,e=1}return!1}#y(){let t=1,e;for(let s=0;s<this.#t.getLength();++s){for(let i=0;i<this.#t.getLength();++i)i!==s&&this.#t.getCard(s).getRank()===this.#t.getCard(i).getRank()&&(t+=1,e=this.#t.getCard(s).getRank());if(t>2)return this.#a=e,!0;t=1}return!1}#l(){let t=this.#k();if(t.sort(function(s,i){return s-i}),15-t.length<t[0])return!1;t[0]===1&&t[t.length-1]===13&&(t[0]=9);let e=t[0];for(let s=1;s<t.length;++s)if(e+1===t[s])e=t[s];else return!1;return this.#a=this.#t.getBigger,!0}#d(){let t=this.#t.getCard(0).getSuit();for(let e=1;e<this.#t.getLength();++e)if(this.#t.getCard(e).getSuit()!==t)return!1;return this.#n=t,!0}#e(){let t,e=this.#t.getCard(0).getRank();for(let r=1;r<this.#t.getLength();++r)e!==this.#t.getCard(r).getRank()&&(t=r);let s=this.#t.getCard(t).getRank(),i=0,h=0;for(let r=0;r<this.#t.getLength();++r)e===this.#t.getCard(r).getRank()&&i++,s===this.#t.getCard(r).getRank()&&h++;return i+h===5&&(i===2||h===2)?(this.convert(e)<this.convert(s)?this.#a=s:this.#a=e,!0):!1}convert(t){let e;switch(t){case"A":e=1;break;case"J":e=11;break;case"Q":e=12;break;case"K":e=13;break;default:e=Number(t);break}return e}#f(){let t=1,e;for(let s=0;s<this.#t.getLength();++s){for(let i=0;i<this.#t.getLength();++i)i!==s&&this.#t.getCard(s).getRank()===this.#t.getCard(i).getRank()&&(e=this.#t.getCard(s).getRank(),t+=1);if(t>3)return this.#a=e,!0;t=1}return!1}#u(){return this.#l()?this.#d():!1}#k(){let t,e=[];for(let s=0;s<this.#t.getLength();++s){switch(this.#t.getCard(s).getRank()){case"A":t=1;break;case"J":t=11;break;case"Q":t=12;break;case"K":t=13;break;default:t=Number(this.#t.getCard(s).getRank());break}e.push(t)}return e}classify(t){this.#s.copy(this.#t),this.#t.concat(t),this.#a=this.#t.getBigger(),this.#h="Greater Card",this.#p()&&(this.#h="Pair",this.#i=1),this.#b()&&(this.#h="Two Pair",this.#i=2),this.#y()&&(this.#h="Three of a kind",this.#i=3),this.#l()&&(this.#h="Straight",this.#i=4),this.#d()&&(this.#h="Flush",this.#i=5),this.#e()&&(this.#h="Full house",this.#i=6),this.#f()&&(this.#h="Four of a kind",this.#i=7),this.#u()&&(this.#h="Straight flush",this.#i=8),this.#t.copy(this.#s)}win(t){return this.#i!==t.getValue()?this.#i>t.getValue():this.#i<4||this.#i===6||this.#i===7?this.#a>t.getCard():this.#m(this.#n)>this.#m(t.getSuit)}#m(t){switch(t){case"Spades":return 4;case"Diamonds":return 2;case"Hearts":return 3;case"Clubs":return 1}}}class I{#t=document.getElementById("turn");#s=document.getElementById("finalPlay");#h=document.getElementById("firstcanvas");#i=document.getElementById("secondcanvas");#n;#a;#p;#b=document.getElementById("buttonMinus");#y=document.getElementById("bet");#l=document.getElementById("buttonPlus");#d=document.getElementById("restartPoker");#e;#f;#u;#k;#m;#g=1e3;#o=1e3;#c=0;#r=0;#w=0;#C;constructor(t,e,s,i,h){this.#e=t,this.#C=e,this.#n=s,this.#a=i,this.#p=h;let r=2,a=2;this.#f=this.#C.dealHands(r,a),this.#e.updateBack(this.#n,this.#f[0]),this.#e.update(this.#a,this.#f[1]),this.#u=this.#C.dealHands(1,3)[0],this.#e.update(this.#p,this.#u);let l=new f(this.#f[0]),o=new f(this.#f[1]);this.#k=l,this.#m=o,this.#o-=20,this.#c+=20,this.#g-=20,this.#c+=20,this.#e.updateBotCash(this.#g),this.#e.updateTotalPot(this.#c),this.#e.updatePlayerCash(this.#g),this.play(),this.#t.addEventListener("click",()=>{this.turn()}),this.#s.addEventListener("click",()=>{this.#u.getLength()>=5?(this.#e.buttonBlink(this.#s,"green"),this.finalPlay()):this.#e.buttonBlink(this.#s,"red")}),this.#h.addEventListener("click",()=>{this.#u.getLength()>=5?this.finalPlay():this.turn()}),this.#i.addEventListener("click",()=>{this.#u.getLength()>=5?this.finalPlay():this.turn()}),this.#b.addEventListener("click",()=>{this.minus()}),this.#y.addEventListener("click",()=>{this.#u.getLength()<5?(this.#e.buttonBlink(this.#y,"green"),this.bet()):(this.#e.buttonBlink(this.#y,"red"),this.#r=0,this.#e.updateBetAmount(this.#r))}),this.#l.addEventListener("click",()=>{this.plus()}),this.#d.addEventListener("click",()=>{this.#u.getLength()<5?this.#e.buttonBlink(this.#d,"red"):(this.#e.buttonBlink(this.#d,"green"),this.replay())}),window.addEventListener("restartGame",()=>{this.restart()})}turn(){if(this.#u.getLength()>=5){this.#e.buttonBlink(this.#t,"red");return}this.#r!==0&&(this.#r=0,this.#e.updateBetAmount(this.#r)),this.#e.buttonBlink(this.#t,"green"),console.log("turnPressed"),this.#C.takeCard(this.#u),this.#e.update(this.#p,this.#u),this.play()}finalPlay(){this.#e.update(this.#n,this.#f[0]);let t,e,s;this.#k.win(this.#m)?(this.#k.getType()===void 0?e="Greater Card":e=`${this.#k.getType()}`,t="Opponent!! Reason: "+e,s=this.#m.getType(),this.#o+=this.#c,this.#e.updateBotCash(this.#o),this.#e.updateWinner(t,s,this.#c,!1)):(this.#m.getType()===void 0?e="Greater Card":e=`${this.#m.getType()}`,t="you!! Reason: "+e+" | You win "+this.#c+".",s=this.#k.getType(),this.#g+=this.#c,this.#e.updatePlayerCash(this.#g),this.#e.updateWinner(t,s,this.#c,!0)),this.#c=0,this.#e.updateTotalPot(this.#c),this.#e.playOne(this.#k.getType()),this.#e.playTwo(this.#m.getType()),this.#o<=0?this.#e.showEndScreen("🎉 You Win!"):this.#g<=0&&this.#e.showEndScreen("💀 You Lose!")}minus(){if(this.#r-10<0){this.#e.buttonBlink(this.#b,"red");return}this.#e.buttonBlink(this.#b,"green"),this.#r-=10,this.#e.updateBetAmount(this.#r)}bet(){this.#r!==0&&(this.#r!==this.#w&&(this.shouldBotEquals()?this.#o<this.#r?this.#w=this.#o:this.#w=this.#r:replay()),this.#c+=this.#r+this.#w,this.#g-=this.#r,this.#r=0,this.#e.updatePlayerCash(this.#g),this.#e.updateBetAmount(this.#r),this.#o-=this.#w,this.#w=0,this.#e.updateBotCash(this.#g),this.#e.updateTotalPot(this.#c))}plus(){if(this.#g-this.#r-10<0){this.#e.buttonBlink(this.#l,"red");return}this.#e.buttonBlink(this.#l,"green"),this.#r+=10,this.#e.updateBetAmount(this.#r)}replay(){if(this.#o<=0||this.#g<=0)return;this.#e.clearWinner(),this.#C=new v,this.#f=this.#C.dealHands(2,2),this.#e.updateBack(this.#n,this.#f[0]),this.#e.update(this.#a,this.#f[1]),this.#u=this.#C.dealHands(1,3)[0],this.#e.update(this.#p,this.#u);let t=new f(this.#f[0]),e=new f(this.#f[1]);this.#k=t,this.#m=e,this.#o<20?(this.#c+=this.#o,this.#o=0):(this.#o-=20,this.#c+=20),this.#g<20?(this.#c+=this.#g,this.#g=0):(this.#g-=20,this.#c+=20),this.#e.updateBotCash(this.#g),this.#e.updateTotalPot(this.#c),this.#e.updatePlayerCash(this.#g)}restart(){this.#g=1e3,this.#o=1e3,this.replay()}play(){this.#k.classify(this.#u),this.#m.classify(this.#u),this.#e.playTwo(this.#m.getType())}shouldBotEquals(){return this.#k.getValue<2?this.#u.getLength()===3?this.#r/this.#o<.25?!0:Math.random()<.9:this.#u.getLength()===4?this.#r/this.#o<.2?!0:this.#r/this.#o<.5?Math.random()<.5:Math.random()<.2:this.#r/this.#o<.5?Math.random()<.5:Math.random()<.2:this.#k.getValue<6?this.#u.getLength()===3?this.#r/this.#o<.25?!0:Math.random()<.9:this.#u.getLength()===4?this.#r/this.#o<.2?!0:this.#r/this.#o<.5?Math.random()<.9:Math.random()<.6:this.#r/this.#o<.5?Math.random()<.8:Math.random()<.5:!0}}class p{#t;#s;#h;#i;constructor(t,e,s){this.#t=document.getElementById(s),this.#s=this.#t.getContext("2d"),this.#t.width=t,this.#t.height=e,this.#h=t,this.#i=e}clear(){this.#s.clearRect(0,0,this.#t.width,this.#t.height)}getBody(){return this.#t}getWidth(){return this.#t.width}getHeight(){return this.#t.height}getCtx(){return this.#s}build(){this.#s.lineWidth=.5,this.#s.fillStyle="white",this.#s.strokeStyle="#999",this.#s.fillRect(0,0,this.#h,this.#i)}update(){this.#s.clearRect(0,0,this.#t.width,this.#t.height),this.build()}resize(t,e){this.#t.width=t,this.#t.height=e}}class M{#t;#s=document.getElementById("betAmount");#h=document.getElementById("playerAmount");#i=document.getElementById("enemyAmount");#n=document.getElementById("totalPot");constructor(t){this.#t=t}update(t,e){let s,i;const h=t.getWidth(),r=t.getHeight();let a=0,l=0,o=[];t.clear();for(let u=0;u<e.getLength();++u)s=e.getCard(u),i=new Image,o.push(i),o[u].onload=()=>{t.getCtx().drawImage(o[u],a,l,h/5,r),a+=h/5},o[u].src=s.getImage()}updateWinner(t,e,s,i){i?document.getElementById("winner").innerHTML="The winner is  "+t+" vs "+e+" --- You win "+s+".":document.getElementById("winner").innerHTML="The winner is  "+t+" vs "+e+" --- You lose "+s+"."}clearWinner(){document.getElementById("winner").innerHTML=""}updateBack(t,e){let s;const i=t.getWidth(),h=t.getHeight();let r=0,a=0,l=[];t.clear();for(let o=0;o<e.getLength();++o)e.getCard(o),s=new Image,l.push(s),l[o].onload=()=>{t.getCtx().drawImage(l[o],r,a,i/5,h),r+=i/5},l[o].src="/resources/Poker/blue_back.png"}advise(){document.getElementById("cards").innerHTML="No quedan cartas en el mazo"}playOne(t){document.getElementById("firstPlay").innerHTML=t}playTwo(t){document.getElementById("secondPlay").innerHTML=t}stepThree(t,e){let s=Math.floor(Math.random()*5),i=1,h=[s];do s=Math.floor(Math.random()*5),h.includes(s)||(h.push(s),i++);while(i<3);h.sort(),console.log(h);let r,a;const l=t.getWidth(),o=t.getHeight();let u=0,R=0,g=[];i=0,console.log(h);for(let d=0;d<e.getLength();++d)r=e.getCard(d),a=new Image,g.push(a),g[d].onload=()=>{t.getCtx().drawImage(g[d],u,R,l/5,o),u+=l/5},d===h[i]?(g[d].src=r.getImage(),i++):g[d].src="/resources/Poker/blue_back.png"}updateBetAmount(t){this.#s.innerText=t.toString()}updatePlayerCash(t){console.log(t.toString()),this.#h.innerHTML=`<i class="fa-solid fa-sack-dollar"></i> : ${t.toString()}`}updateBotCash(t){this.#i.innerHTML=`<i class="fa-solid fa-sack-dollar"></i> : ${t.toString()}`}updateTotalPot(t){this.#n.innerHTML=`<i class="fa-solid fa-sack-dollar"></i> : ${t.toString()}`}buttonBlink(t,e){switch(e){case"green":t.classList.add("blink-green-once"),t.addEventListener("animationend",()=>{t.classList.remove("blink-green-once")},{once:!0});break;default:t.classList.add("blink-red-once"),t.addEventListener("animationend",()=>{t.classList.remove("blink-red-once")},{once:!0});break}}showEndScreen(t){const e=document.getElementById("endScreen"),s=document.getElementById("endMessage");s.textContent=t,e.classList.remove("hidden");const i=document.getElementById("restartBtn");i.onclick=()=>{const h=new Event("restartGame");window.dispatchEvent(h),e.classList.add("hidden")}}}function H(){let n=new p(500,150,"firstcanvas"),t=new p(500,150,"secondcanvas"),e=new p(500,150,"thirdcanvas"),s=new M(document),i=new v;new I(s,i,n,t,e)}const k=new Swiper(".mySwiper",{effect:"cube",updateOnWindowResize:!0,observer:!0,observeParents:!0,cubeEffect:{shadow:!1,slideShadows:!0},mousewheel:!0,allowTouchMove:!0,grabCursor:!0});k.on("slideChange",()=>{A(k.activeIndex),V(k.activeIndex)});function A(n){for(let t of document.querySelectorAll(".Links li"))t.classList.remove("activeLink");Array.from(document.querySelectorAll(".Links li"))[n].classList.add("activeLink")}function x(n){for(let t of document.querySelectorAll(".Links li"))t.classList.remove("activeLink");Array.from(document.querySelectorAll(".Links li"))[n].classList.add("activeLink"),k.slideTo(n,1e3,!0)}function V(n){switch(n){case 1:S(600,600);break;case 2:H();break}}window.Navigate=x;
